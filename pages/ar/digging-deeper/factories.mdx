# المصانع في Kawkab

## نظرة عامة
المصانع في Kawkab هي طريقة سهلة وفعالة لإنشاء بيانات وهمية لأغراض الاختبار والتطوير. تستخدم المصانع مكتبة Faker لتوليد بيانات واقعية.

## الاستخدام الأساسي

### إنشاء مصنع جديد

لإنشاء **Factory** جديد، قم بتنفيذ الأمر التالي:

```bash
npm run kawkab factory:make <name> [module]
```

### **تفاصيل المعاملات:**

- **`<name>`**: اسم الـ Factory الذي تريد إنشاؤه (مثل `User`).
- **`[module]`**: اسم الموديول الذي يحتوي على الـ Factory (اختياري، الافتراضي هو `main`).

### **مثال عملي:**

```bash
npm run kawkab factory:make user
```

```typescript
import { BaseFactory, faker } from 'kawkab';
import { User } from "../models/user";

export class UserFactory extends BaseFactory {
    async handle() {
        const data = {
            username: faker.internet.userName(),
            email: faker.internet.email()
        };

        await User.query().insert(data);
    }
}
```

### استخدام المصنع

```typescript
// إنشاء 10 مستخدمين
new UserFactory(10);

// إنشاء مستخدم واحد
new UserFactory();
```

## المميزات الرئيسية

1. **البساطة**: إنشاء البيانات بسطر واحد من الكود
2. **المرونة**: يمكن تخصيص البيانات المولدة حسب الحاجة
3. **التلقائية**: يتم إدخال البيانات في قاعدة البيانات تلقائياً
4. **قابلية التوسع**: يمكن إضافة مصانع جديدة بسهولة

## أفضل الممارسات

1. **تنظيم المصانع**:
   - ضع كل المصانع في مجلد `factories`
   - اتبع نمط التسمية `[ModelName]Factory`

2. **البيانات**:
   - استخدم faker لتوليد بيانات واقعية
   - تجنب البيانات الثابتة إلا عند الضرورة
   - تأكد من تغطية جميع الحقول المطلوبة

3. **العلاقات**:
   - قم بإنشاء السجلات المرتبطة أولاً
   - استخدم المصانع الأخرى لإنشاء البيانات المرتبطة

4. **الاختبارات**:
   - استخدم المصانع في ملفات الاختبار
   - قم بإنشاء بيانات اختبار متنوعة
   - تأكد من تنظيف البيانات بعد الاختبارات

## ملاحظات هامة

1. المصانع مصممة للاستخدام في بيئة التطوير والاختبار فقط
2. لا تستخدم المصانع في بيئة الإنتاج
3. تأكد من استخدام إصدار متوافق من Faker
4. قم بتنظيف البيانات المولدة بشكل دوري

## الخاتمة

المصانع في Kawkab توفر طريقة سهلة وفعالة لإنشاء بيانات اختبار. يمكنك بسرعة إنشاء بيانات واقعية لتطبيقك.
