---
title: Middleware ูู ูููุจ Kawkab
description: ุฏููู ุดุงูู ูููู ุงูู Middleware ูู ุฅุทุงุฑ ุงูุนูู ูููุจ Kawkab ูููููุฉ ุฅูุดุงุฆูุง ูุงุณุชุฎุฏุงููุง ุจูุนุงููุฉ.
---

# **ุงูุจุฑูุฌูุงุช ุงููุณูุทุฉ Middleware ูู ุฅุทุงุฑ ุงูุนูู ูููุจ Kawkab**

ุงูู **Middleware** ูู ุทุจูุฉ ูุณูุทุฉ ุชูุณุชุฎุฏู ููุนุงูุฌุฉ ุงูุทูุจุงุช ุงููุงุฑุฏุฉ ูุจู ุงููุตูู ุฅูู ุงููุชุญููุงุช (**Controllers**) ุฃู ูุชูููุฐ ููุทู ูุนูู ุจุนุฏ ุงูุงุณุชุฌุงุจุฉ.  
ุชูุนุฏ Middleware ุฃุฏุงุฉ ูููุฉ ูุชูููุฐ ุงูููุงู ุงูุดุงุฆุนุฉ ูุซู ุงููุตุงุฏูุฉุ ุงูุชุญูู ูู ุงูุตูุงุญูุงุชุ ูุชุณุฌูู ุงูุฃุฎุทุงุก.

---

## **ุฅูุดุงุก Middleware ุฌุฏูุฏ**

ูุฅูุดุงุก Middleware ุฌุฏูุฏ ูู ูููุจ Kawkabุ ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู:

```bash
npm run kawkab middleware:make <name> [module]
```

### **ุงููุชุบูุฑุงุช:**
- **`<name>`**: ุงุณู ุงูู Middleware.
- **`[module]`**: ุงููุญุฏุฉ ุงูุชู ุณูุชู ุฅุถุงูุฉ ุงูู Middleware ุฅูููุง (ุงุฎุชูุงุฑูุ ุงูุงูุชุฑุงุถู ูู `main`).

### **ูุซุงู ุนููู:**

```bash
npm run kawkab middleware:make auth main
```

ุงููุงุชุฌ:
```plaintext
๐ Middleware auth created successfully in module main.

1๏ธโฃ  Your middleware file is ready! You can now import it like this:
๐ import { AuthMiddleware } from "../middleware/auth"

2๏ธโฃ  Use the middleware like so:
๐ new AuthMiddleware()

3๏ธโฃ  You can pass the data like this:
๐ new AuthMiddleware({id:1, name:'Hassan'})

4๏ธโฃ  You can access the data in middleware class like this:
๐ this.data
```

---

## **ูุญุชูู Middleware ุงูุงูุชุฑุงุถู**

ุนูุฏ ุฅูุดุงุก Middleware ุฌุฏูุฏุ ูุชู ุฅูุดุงุก ููู ูุญุชูู ุนูู ุงููููู ุงูุฃุณุงุณู ุงูุชุงูู:

```ts
import { BaseMiddleware, inherit } from "kawkab";

export class AuthMiddleware extends BaseMiddleware {
    /**
     * ุชูููุฐ ุงูููุทู ุงูุฃุณุงุณู ููู Middleware.
     */
    handle() {
        console.log("Middleware executed with data:", this.data);
    }
}
```

---

## **ููููุฉ ุงุณุชุฎุฏุงู Middleware**

### **ุงุณุชูุฑุงุฏ Middleware**
ุจุนุฏ ุฅูุดุงุก ุงูู Middlewareุ ููููู ุงุณุชูุฑุงุฏู ูู ุงููุชุญูู ุฃู ูู ุฃู ุฌุฒุก ูู ุงูุชุทุจูู.

```ts
import { AuthMiddleware } from "../middleware/auth";
```

### **ุชุทุจูู Middleware**
ููุงุณุชูุงุฏุฉ ูู ุงูู Middlewareุ ููููู ุงุณุชุฎุฏุงูู ุจุงูุทุฑููุฉ ุงูุชุงููุฉ:

```ts
new AuthMiddleware();
```

### **ุชูุฑูุฑ ุงูุจูุงูุงุช ุฅูู Middleware**
ููููู ุชูุฑูุฑ ุจูุงูุงุช ุนูุฏ ุงุณุชุฏุนุงุก ุงูู Middleware:

```ts
new AuthMiddleware({ id: 1, name: "Hassan" });
```

### **ุงููุตูู ุฅูู ุงูุจูุงูุงุช ุฏุงุฎู Middleware**
ููููู ุงููุตูู ุฅูู ุงูุจูุงูุงุช ุงูุชู ุชู ุชูุฑูุฑูุง ุจุงุณุชุฎุฏุงู ุงูุฎุงุตูุฉ `this.data` ุฏุงุฎู ูุฆุฉ ุงูู Middleware:

```ts
export class AuthMiddleware extends BaseMiddleware {
    handle() {
        console.log("User ID:", this.data.id);
        console.log("User Name:", this.data.name);
    }
}
```

---

## **ุฏูุฌ Middleware ูุน ุงููุชุญููุงุช**

ููููู ุฑุจุท ุงูู Middleware ุจุฏูุงู ูุนููุฉ ูู ุงููุชุญูู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ `middleware()`.

### **ูุซุงู ุนููู:**
```ts
import { BaseController, inherit } from "kawkab";
import { AuthMiddleware } from "../middleware/auth";

export default class extends inherit(BaseController) {
    middleware() {
        return {
            get: () => new AuthMiddleware({ role: "admin" }),
        };
    }

    get() {
        return { status: true, message: "Welcome, admin!" };
    }
}
```

- **`middleware()`**: ุชุฑุจุท Middleware ูุนูู ุจุทุฑู ูุซู `get`, `post`, ูุบูุฑูุง.
- **`new AuthMiddleware({ role: "admin" })`**: ูุชู ุชูุฑูุฑ ุจูุงูุงุช ุฅูู Middleware ุฃุซูุงุก ุงูุชูููุฐ.

---

## **ุฃูุซูุฉ ุนูููุฉ**

### **ูุตุงุฏูุฉ ุงููุณุชุฎุฏู**
ุฅูุดุงุก Middleware ุฎุงุต ุจุงูุชุญูู ูู ุงููุตุงุฏูุฉ:

```ts
import { BaseMiddleware, inherit } from "kawkab";

export class AuthMiddleware extends BaseMiddleware {
    handle() {
        if (!this.data || !this.data.token) {
            throw new Error("Authentication failed!");
        }

        console.log("Authenticated user with token:", this.data.token);
    }
}
```

ุงุณุชุฎุฏุงูู ูู ุงููุชุญูู:
```ts
import { BaseController, inherit } from "kawkab";
import AuthMiddleware from "../middleware/auth";

export default class extends inherit(BaseController) {
    middleware() {
        return {
            get: () => new AuthMiddleware({ token: "valid-token" }),
        };
    }

    get() {
        return { status: true, message: "User is authenticated!" };
    }
}
```

---

## **ููุฎุต**

### **ุฎุทูุงุช ุงุณุชุฎุฏุงู Middleware:**
1. ุฅูุดุงุก Middleware ุฌุฏูุฏ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ:
   ```bash
   npm run kawkab middleware:make <name> [module]
   ```
2. ุงุณุชูุฑุงุฏ Middleware ูู ุงููุชุญูู ุฃู ุฃู ููุงู ุขุฎุฑ.
3. ุชุทุจูู Middleware ุจุงุณุชุฎุฏุงู `new MiddlewareName()`.
4. ุชูุฑูุฑ ุงูุจูุงูุงุช ุนูุฏ ุงูุญุงุฌุฉ ุจุงุณุชุฎุฏุงู `{}` ูุงููุตูู ุฅูููุง ุจุงุณุชุฎุฏุงู `this.data`.
5. ุฑุจุท Middleware ุจุฏูุงู ุงููุชุญูู ุนุจุฑ ุฏุงูุฉ `middleware()`.

### **ุฃูู ููุฒุงุช Middleware ูู ูููุจ Kawkab:**
- **ุณูููุฉ ุงูุฅูุดุงุก**: ุจุงุณุชุฎุฏุงู ุฃูุงูุฑ ุจุณูุทุฉ.
- **ูุฑููุฉ ุงูุงุณุชุฎุฏุงู**: ูููู ุชุทุจูููุง ุนูู ูุณุชูู ุงููุญุฏุฉ ุฃู ุงููุชุญูู.
- **ุชูุฑูุฑ ุงูุจูุงูุงุช**: ุชุณููู ููู ุงูุจูุงูุงุช ุฃุซูุงุก ุงูุชูููุฐ.

---

## **ุฎุงุชูุฉ**

ุงูู Middleware ูู ุฅุทุงุฑ ุงูุนูู **ูููุจ Kawkab** ูููุฑ ุฃุฏุงุฉ ูููุฉ ูุชุฎุตูุต ุชุฏูู ุงูุทูุจุงุช ูุชูููุฐ ุงูููุงู ุงูุดุงุฆุนุฉ.  
ููููู ุงุณุชุฎุฏุงูู ูุชูููุฐ ูุตุงุฏูุฉุ ุงูุชุญูู ูู ุงูุตูุงุญูุงุชุ ุฃู ุญุชู ุชุณุฌูู ุงูุทูุจุงุชุ ููุง ูููุญู ุชุญูููุง ูุงููุงู ุจุณูุฑ ุนูู ุงูุชุทุจูู.